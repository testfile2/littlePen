&gt; struct vfsmount *mnt = find_vfsmount(inode-&gt;i_sb-&gt;s_root);
static struct vfsmount *find_vfsmount(struct dentry *d) {
	struct dentry *root = dget(dentry->d_sb->s_root);
	struct namespace *namespace = current->namespace;
	struct list_head *head;
	struct vfsmount *mnt = NULL;

	down_read(&namespace->sem);
	list_for_each(head, &namespace->list) {
		mnt = list_entry(head, struct vfsmount, mnt_list);
		if (mnt->mnt_root == sb_root) {
			mntget(mnt);
			break;	/* this is the problem spot */
		}
	}
	up_read(&namespace->sem);
	dput(sb_root);
	return mnt;
}
